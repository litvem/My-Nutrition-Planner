{
	"info": {
		"_postman_id": "e452767a-13b3-40d9-a057-c84a22b25e6b",
		"name": "server",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "15823420"
	},
	"item": [
		{
			"name": "Users Controller Test",
			"item": [
				{
					"name": "Change password",
					"item": [
						{
							"name": "Sign up  profile 1 Copy",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var response =  pm.response.json();\r",
											"var profileId = response.userCreated._id;\r",
											"pm.environment.set(\"profileID_1\", profileId)\r",
											"\r",
											"\r",
											"pm.test(\"Correct status code\",\r",
											"    function(){\r",
											"    pm.response.to.have.status(201);\r",
											"});\r",
											"\r",
											"pm.test(\"Correct user response\", function () {\r",
											"    pm.expect(response.userCreated.username).to.eql(\"HarryPotter\");\r",
											"//    pm.expect(jsonData.userCreated.password).to.eql(\"Hogwarts123\"); - it hash now\r",
											"});\r",
											"\r",
											"\r",
											"\r",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"username\":\"HarryPotter\",\r\n    \"password\":\"Hogwarts123\"\r\n}"
								},
								"url": {
									"raw": "{{host}}/api/profiles/signup",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"profiles",
										"signup"
									]
								}
							},
							"response": []
						},
						{
							"name": "Login profile 1 Copy",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var response =  pm.response.json();\r",
											"var token = response.token;\r",
											"pm.environment.set(\"token_p1\", token)\r",
											"\r",
											"\r",
											"pm.test(\"Correct status code\", function(){\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"pm.collectionVariables.get(\"variable_key\");\r",
											"pm.test(\"Correct login response\", function () {\r",
											"      pm.expect(response.message).to.eql(\"Authentication successful\"); \r",
											"});\r",
											"\r",
											"\r",
											"\r",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text",
										"disabled": true
									},
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"username\":\"HarryPotter\",\r\n    \"password\":\"Hogwarts123\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{host}}/api/profiles/login",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"profiles",
										"login"
									]
								}
							},
							"response": []
						},
						{
							"name": "Change password",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var response =  pm.response.json();\r",
											"var profileId = response.id;\r",
											"pm.environment.set(\"profileID_1\", profileId)\r",
											"\r",
											"\r",
											"pm.test(\"Correct status code\", function(){\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"pm.test(\"Password updated\", function () {\r",
											"      pm.expect(response.message).to.eql(\"Password has ben updated\"); \r",
											"});\r",
											"\r",
											"\r",
											"\r",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"setTimeout(function(){}, [1000]);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{token_p1}}",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text",
										"disabled": true
									},
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"username\":\"HarryPotter\",\r\n  \"password\":\"123\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{host}}/api/profiles/:profileId",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"profiles",
										":profileId"
									],
									"variable": [
										{
											"key": "profileId",
											"value": "{{profileID_1}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Login after password change",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var response =  pm.response.json();\r",
											"var token = response.token;\r",
											"pm.environment.set(\"token_p1\", token)\r",
											"\r",
											"\r",
											"pm.test(\"Correct status code\", function(){\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"pm.collectionVariables.get(\"variable_key\");\r",
											"pm.test(\"Correct login response\", function () {\r",
											"      pm.expect(response.message).to.eql(\"Authentication successful\"); \r",
											"});\r",
											"\r",
											"\r",
											"\r",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"setTimeout(function(){}, [1000]);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{token_p1}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text",
										"disabled": true
									},
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"username\":\"HarryPotter\",\r\n  \"password\":\"123\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{host}}/api/profiles/login",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"profiles",
										"login"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete profile 1 Copy",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var response = pm.response.json(); \r",
											"\r",
											"pm.test(\"Correct status code\", function(){\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"pm.test(\"Correct delete message\"), function(){\r",
											"\r",
											"    pm.expect(response.message).to.eql(\"The profile has been deleted\");\r",
											"    pm.expect(response.deletedUSer.username).to.eql(\"HarryPotter1\");\r",
											"}"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{token_p1}}",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{host}}/api/profiles/:profileId",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"profiles",
										":profileId"
									],
									"variable": [
										{
											"key": "profileId",
											"value": "{{profileID_1}}"
										}
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Sign up  profile 1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response =  pm.response.json();\r",
									"var profileId = response.userCreated._id;\r",
									"pm.environment.set(\"profileID_1\", profileId)\r",
									"\r",
									"\r",
									"pm.test(\"Correct status code\",\r",
									"    function(){\r",
									"    pm.response.to.have.status(201);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct user response\", function () {\r",
									"    pm.expect(response.userCreated.username).to.eql(\"HarryPotter\");\r",
									"//    pm.expect(jsonData.userCreated.password).to.eql(\"Hogwarts123\"); - it hash now\r",
									"});\r",
									"\r",
									"\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\":\"HarryPotter\",\r\n    \"password\":\"Hogwarts123\"\r\n}"
						},
						"url": {
							"raw": "{{host}}/api/profiles/signup",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								"signup"
							]
						}
					},
					"response": []
				},
				{
					"name": "Login profile 1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response =  pm.response.json();\r",
									"var token = response.token;\r",
									"pm.environment.set(\"token_p1\", token)\r",
									"\r",
									"\r",
									"pm.test(\"Correct status code\", function(){\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"pm.collectionVariables.get(\"variable_key\");\r",
									"pm.test(\"Correct login response\", function () {\r",
									"      pm.expect(response.message).to.eql(\"Authentication successful\"); \r",
									"});\r",
									"\r",
									"\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"username\":\"HarryPotter\",\r\n    \"password\":\"Hogwarts123\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/profiles/login",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "Sign up  profile 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData =  pm.response.json();\r",
									"var profileId = jsonData.userCreated._id;\r",
									"pm.environment.set(\"profileID_2\", profileId)\r",
									"\r",
									"\r",
									"pm.test(\"Correct status code\",\r",
									"    function(){\r",
									"    pm.response.to.have.status(201);\r",
									"});\r",
									"\r",
									"\r",
									"pm.test(\"Correct user response\", function () {\r",
									"    var jsonData = pm.response.json(); // parse to json\r",
									"    pm.expect(jsonData.userCreated.username).to.eql(\"RonWeasley\");\r",
									"\r",
									"});\r",
									"\r",
									"\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n   \"username\":\"RonWeasley\",\r\n    \"password\":\"Hogwarts321\"\r\n}"
						},
						"url": {
							"raw": "{{host}}/api/profiles/signup",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								"signup"
							]
						}
					},
					"response": []
				},
				{
					"name": "Login profile 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response =  pm.response.json();\r",
									"var token = response.token;\r",
									"pm.environment.set(\"token_p2\", token)\r",
									"\r",
									"\r",
									"pm.test(\"Correct status code\", function(){\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"pm.collectionVariables.get(\"variable_key\");\r",
									"pm.test(\"Correct login response\", function () {\r",
									"      pm.expect(response.message).to.eql(\"Authentication successful\"); \r",
									"});\r",
									"\r",
									"\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\":\"RonWeasley\",\r\n    \"password\":\"Hogwarts321\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/profiles/login",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "Expect- Username already",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"\r",
									"pm.test(\"Correct status code\",function(){\r",
									"    pm.response.to.have.status(409);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct  error response\", function () {\r",
									"    var jsonData = pm.response.json(); // parse to json\r",
									"      pm.expect(jsonData.message).to.eql(\"Username already exists\"); \r",
									"});      "
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\":\"HarryPotter\",\r\n    \"password\":\"Toppen1\"\r\n}"
						},
						"url": {
							"raw": "{{host}}/api/profiles/signup",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								"signup"
							]
						}
					},
					"response": []
				},
				{
					"name": "Login- Wrong password",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response =  pm.response.json();\r",
									"\r",
									"\r",
									"pm.test(\"Correct status code\", function(){\r",
									"    pm.response.to.have.status(401);\r",
									"});\r",
									"pm.collectionVariables.get(\"variable_key\");\r",
									"pm.test(\"Correct login response\", function () {\r",
									"      pm.expect(response.message).to.eql(\"Authentication failed\"); \r",
									"});\r",
									"\r",
									"\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\":\"HarryPotter\",\r\n    \"password\":\"Hogwarts1234\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/profiles/login",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "Login- Wrong username",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response =  pm.response.json();\r",
									"\r",
									"\r",
									"pm.test(\"Correct status code\", function(){\r",
									"    pm.response.to.have.status(401);\r",
									"});\r",
									"pm.collectionVariables.get(\"variable_key\");\r",
									"pm.test(\"Correct login response\", function () {\r",
									"      pm.expect(response.message).to.eql(\"Authentication failed\"); \r",
									"});\r",
									"\r",
									"\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\":\"HarryPotterA\",\r\n    \"password\":\"Hogwarts123\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/profiles/login",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get all -  2 profiles",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response = pm.response.json(); \r",
									"var users = response.users;\r",
									"\r",
									"pm.test(\"Correct status code\", function(){\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test('Number of user = ' + users.length, function () {\r",
									"    pm.expect(users.length).to.eql(2);\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{host}}/api/profiles",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get profile 1",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response = pm.response.json(); \r",
									"\r",
									"pm.test(\"Correct status code\",\r",
									"    function(){\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct user response\", function () {\r",
									"    pm.expect(response.username).to.eql(\"HarryPotter\");\r",
									"});\r",
									"\r",
									"\r",
									"\r",
									"\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Change profile 1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response = pm.response.json();\r",
									"var token = response.token;\r",
									"pm.environment.set(\"token_p1\", token)\r",
									"\r",
									"pm.test(\"Correct status code\",function(){\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct profile response\", function () {\r",
									"     pm.expect(response.updatedUser.username).to.eql(\"HarryPotter1\");\r",
									"    \r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\":\"HarryPotter1\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/profiles/:profileId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "check update profile 1",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response = pm.response.json(); \r",
									"\r",
									"pm.test(\"Correct status code\",\r",
									"    function(){\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct updated user response\", function () {\r",
									"    pm.expect(response.username).to.eql(\"HarryPotter1\");\r",
									"\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get profile 1- auth failed",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Correct status code\", function(){\r",
									"    pm.response.to.have.status(401);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct error response\", function () {\r",
									"    var jsonData = pm.response.json(); // parse to json\r",
									"    pm.expect(jsonData.message).to.eql(\"Authentication failed\");\r",
									"});\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get all -  2 profiles Copy",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response = pm.response.json(); \r",
									"var users = response.users;\r",
									"\r",
									"pm.test(\"Correct status code\", function(){\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test('Number of user = ' + users.length, function () {\r",
									"    pm.expect(users.length).to.eql(2);\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{host}}/api/profiles",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles"
							]
						}
					},
					"response": []
				},
				{
					"name": "Username already exist",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response = pm.response.json();\r",
									"\r",
									"pm.test(\"Correct status code\",function(){\r",
									"    pm.response.to.have.status(409);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct profile response\", function () {\r",
									"    pm.expect(response.message).to.eql(\"Username already exists\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\":\"HarryPotter1\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/profiles/:profileId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete profile 1- auth failed",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Correct status code\", function(){\r",
									"    pm.response.to.have.status(401);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct delete message\"), function(){\r",
									"      var jsonData = pm.response.json(); // parse to json\r",
									"    pm.expect(jsonData.message).to.eql(\"Authentication failed\");\r",
									"\r",
									"}"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete profile 1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response = pm.response.json(); \r",
									"\r",
									"pm.test(\"Correct status code\", function(){\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct delete message\"), function(){\r",
									"\r",
									"    pm.expect(response.message).to.eql(\"The profile has been deleted\");\r",
									"    pm.expect(response.deletedUSer.username).to.eql(\"HarryPotter1\");\r",
									"}"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete profile 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response = pm.response.json(); \r",
									"\r",
									"pm.test(\"Correct status code\", function(){\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct delete message\"), function(){\r",
									"    pm.expect(response.message).to.eql(\"The profile has been deleted\");\r",
									"}"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p2}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_2}}"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Shoppinglist Controller Test",
			"item": [
				{
					"name": "Sign up  profile 1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response =  pm.response.json();\r",
									"var profileId = response.userCreated._id;\r",
									"pm.environment.set(\"profileID_1\", profileId)\r",
									"\r",
									"\r",
									"pm.test(\"Correct status code\",\r",
									"    function(){\r",
									"    pm.response.to.have.status(201);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct user response\", function () {\r",
									"    pm.expect(response.userCreated.username).to.eql(\"HarryPotter\");\r",
									"//    pm.expect(jsonData.userCreated.password).to.eql(\"Hogwarts123\"); - it hash now\r",
									"});\r",
									"\r",
									"\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\":\"HarryPotter\",\r\n    \"password\":\"Hogwarts123\"\r\n}"
						},
						"url": {
							"raw": "{{host}}/api/profiles/signup",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								"signup"
							]
						}
					},
					"response": []
				},
				{
					"name": "Login profile 1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response =  pm.response.json();\r",
									"var token = response.token;\r",
									"pm.environment.set(\"token_p1\", token)\r",
									"\r",
									"\r",
									"pm.test(\"Correct status code\", function(){\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"pm.collectionVariables.get(\"variable_key\");\r",
									"pm.test(\"Correct login response\", function () {\r",
									"      pm.expect(response.message).to.eql(\"Authentication successful\"); \r",
									"});\r",
									"\r",
									"\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"username\":\"HarryPotter\",\r\n    \"password\":\"Hogwarts123\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/profiles/login",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "shoppingList 1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response =  pm.response.json();\r",
									"var shopList = response.shoppinglistCreated._id;\r",
									"pm.environment.set(\"shopList_1\", shopList)\r",
									"\r",
									"const potatoObject = response.shoppinglistCreated.items.find(obj => obj.item ===\"potato\");\r",
									"\r",
									"const ketchupObject = response.shoppinglistCreated.items.find(obj => obj.item ===\"ketchup\");\r",
									"\r",
									"const milkObject = response.shoppinglistCreated.items.find(obj => obj.item ===\"milk\");\r",
									"\r",
									"\r",
									"pm.test(\"Correct status code\",\r",
									"    function(){\r",
									"    pm.response.to.have.status(201);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct shoppinglist response - excluding array of object\", function () {\r",
									"    var response =  pm.response.json();\r",
									"      pm.expect(response.shoppinglistCreated.week).to.eql(20);\r",
									"    pm.expect(response.shoppinglistCreated.year).to.eql(2022);\r",
									"});\r",
									"\r",
									"\r",
									"pm.test(\"Correct  first item response\", function () {\r",
									"\r",
									"    pm.expect(ketchupObject.itemId).to.eql(1);\r",
									"    pm.expect(ketchupObject.item).to.eql(\"ketchup\");\r",
									"    pm.expect(ketchupObject.amount).to.eql(5);\r",
									"    pm.expect(ketchupObject.unit).to.eql(\"ml\");\r",
									"\r",
									"\r",
									"});\r",
									"\r",
									"pm.test(\"Correct second item response\", function () {\r",
									"\r",
									"    pm.expect(potatoObject.itemId).to.eql(2);\r",
									"    pm.expect(potatoObject.item).to.eql(\"potato\");\r",
									"    pm.expect(potatoObject.amount).to.eql(100);\r",
									"    pm.expect(potatoObject.unit).to.eql(\"grams\");\r",
									"});\r",
									"\r",
									"pm.test(\"Correct third item response\", function () {\r",
									"\r",
									"    pm.expect(milkObject.itemId).to.eql(3);\r",
									"    pm.expect(milkObject.item).to.eql(\"milk\");\r",
									"    pm.expect(milkObject.amount).to.eql(1);\r",
									"    pm.expect(milkObject.unit).to.eql(\"l\");\r",
									"});\r",
									"\r",
									"\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "\r\n{\r\n    \"week\": 20,\r\n    \"year\":2022,\r\n    \"items\": [\r\n        {  \r\n        \"itemId\": 1,    \r\n        \"item\":\"ketchup\",\r\n        \"amount\":5,\r\n        \"unit\":\"ml\"\r\n         },{\r\n        \"itemId\": 2,\r\n        \"item\":\"potato\",\r\n        \"amount\":100,\r\n        \"unit\":\"grams\"\r\n        },{\r\n        \"itemId\": 3,\r\n        \"item\":\"milk\",\r\n        \"amount\":1,\r\n        \"unit\":\"l\"\r\n        }\r\n    ]\r\n}\r\n"
						},
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/shoppinglists",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"shoppinglists"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "shoppingList 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response =  pm.response.json();\r",
									"var shopList = response.shoppinglistCreated._id;\r",
									"pm.environment.set(\"shopList_2\", shopList)\r",
									"\r",
									"const potatoObject = response.shoppinglistCreated.items.find(obj => obj.item ===\"potato\");\r",
									"\r",
									"const ketchupObject = response.shoppinglistCreated.items.find(obj => obj.item ===\"ketchup\");\r",
									"\r",
									"pm.test(\"Correct status code\",\r",
									"    function(){\r",
									"    pm.response.to.have.status(201);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct shoppinglist response - excluding array of object\", function () {\r",
									"    var response =  pm.response.json();\r",
									"      pm.expect(response.shoppinglistCreated.week).to.eql(50);\r",
									"    pm.expect(response.shoppinglistCreated.year).to.eql(2022);\r",
									"\r",
									"});\r",
									"\r",
									"\r",
									"pm.test(\"Correct  first item response\", function () {\r",
									"    pm.expect(ketchupObject.itemId).to.eql(1);\r",
									"    pm.expect(ketchupObject.item).to.eql(\"ketchup\");\r",
									"    pm.expect(ketchupObject.amount).to.eql(1);\r",
									"    pm.expect(ketchupObject.unit).to.eql(\"ml\");\r",
									"\r",
									"\r",
									"});\r",
									"\r",
									"pm.test(\"Correct  second item response\", function () {\r",
									"\r",
									"    pm.expect(potatoObject.itemId).to.eql(2);\r",
									"    pm.expect(potatoObject.item).to.eql(\"potato\");\r",
									"    pm.expect(potatoObject.amount).to.eql(200);\r",
									"    pm.expect(potatoObject.unit).to.eql(\"grams\");\r",
									"});\r",
									"\r",
									"\r",
									"\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"week\": 50,\r\n    \"year\":2022,\r\n \"items\": [\r\n        {  \r\n        \"itemId\": 1,    \r\n        \"item\":\"ketchup\",\r\n        \"amount\":1,\r\n        \"unit\":\"ml\"\r\n         },{\r\n        \"itemId\": 2,\r\n        \"item\":\"potato\",\r\n        \"amount\":200,\r\n        \"unit\":\"grams\"\r\n        }\r\n    ]  \r\n}"
						},
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/shoppinglists/",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"shoppinglists",
								""
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "checking uniqueness",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response =  pm.response.json();\r",
									"\r",
									"\r",
									"pm.test(\"Correct status code\",\r",
									"    function(){\r",
									"    pm.response.to.have.status(404);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct day response\", function () {\r",
									"\r",
									"    pm.expect(response.message).to.eql(\"Shoppinglist already exist\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "\r\n{\r\n    \"week\": 20,\r\n    \"year\":2022,\r\n    \"items\": [\r\n        {  \r\n        \"itemId\": 1,    \r\n        \"item\":\"ketchup\",\r\n        \"amount\":5,\r\n        \"unit\":\"ml\"\r\n         },{\r\n        \"itemId\": 2,\r\n        \"item\":\"potato\",\r\n        \"amount\":100,\r\n        \"unit\":\"grams\"\r\n        },{\r\n        \"itemId\": 3,\r\n        \"item\":\"milk\",\r\n        \"amount\":1,\r\n        \"unit\":\"l\"\r\n        }\r\n    ]\r\n}\r\n"
						},
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/shoppinglists",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"shoppinglists"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get all shoppinglist",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Correct status code\", function(){\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/shoppinglists/",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"shoppinglists",
								""
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get shoppinglist 1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response =  pm.response.json();\r",
									"const ketchupObject = response.shoppinglist[0].items.find(obj => obj.item ===\"ketchup\");\r",
									"const potatoObject = response.shoppinglist[0].items.find(obj => obj.item ===\"potato\");\r",
									"const milkObject = response.shoppinglist[0].items.find(obj => obj.item ===\"milk\");\r",
									"\r",
									"pm.test(\"Correct status code\", function(){\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct recipe response - excluding array of object\", function () {\r",
									"    pm.expect(response.shoppinglist[0].week).to.eql(20);\r",
									"    pm.expect(response.shoppinglist[0].year).to.eql(2022);\r",
									"\r",
									"});\r",
									"\r",
									"pm.test(\"Correct  first item response\", function () {\r",
									"\r",
									"    pm.expect(ketchupObject.itemId).to.eql(1);\r",
									"    pm.expect(ketchupObject.item).to.eql(\"ketchup\");\r",
									"    pm.expect(ketchupObject.amount).to.eql(5);\r",
									"    pm.expect(ketchupObject.unit).to.eql(\"ml\");\r",
									"\r",
									"});\r",
									"\r",
									"pm.test(\"Correct second item response\", function () {\r",
									"\r",
									"    pm.expect(potatoObject.itemId).to.eql(2);\r",
									"    pm.expect(potatoObject.item).to.eql(\"potato\");\r",
									"    pm.expect(potatoObject.amount).to.eql(100);\r",
									"    pm.expect(potatoObject.unit).to.eql(\"grams\");\r",
									"});\r",
									"\r",
									"\r",
									"pm.test(\"Correct third item response\", function () {\r",
									"\r",
									"    pm.expect(milkObject.itemId).to.eql(3);\r",
									"    pm.expect(milkObject.item).to.eql(\"milk\");\r",
									"    pm.expect(milkObject.amount).to.eql(1);\r",
									"    pm.expect(milkObject.unit).to.eql(\"l\");\r",
									"});\r",
									"\r",
									"\r",
									"\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/shoppinglists/:shoplistId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"shoppinglists",
								":shoplistId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								},
								{
									"key": "shoplistId",
									"value": "{{shopList_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Add items and change week",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response =  pm.response.json();\r",
									"\r",
									"const ketchupObject = response.updatedShoppinglist.items.find(obj => obj.item ===\"ketchup\");\r",
									"const potatoObject = response.updatedShoppinglist.items.find(obj => obj.item ===\"potato\");\r",
									"const milkObject = response.updatedShoppinglist.items.find(obj => obj.item ===\"milk\");\r",
									"\r",
									"pm.test(\"Correct status code\", function(){\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"\r",
									"pm.test(\"Correct updated shoppinglist element\", function () {\r",
									"\r",
									"    pm.expect(response.updatedShoppinglist.week).to.eql(51);\r",
									"    pm.expect(milkObject.itemId).to.eql(3);\r",
									"    pm.expect(milkObject.item).to.eql(\"milk\");\r",
									"    pm.expect(milkObject.amount).to.eql(1);\r",
									"    pm.expect(milkObject.unit).to.eql(\"l\");\r",
									"\r",
									"});\r",
									"\r",
									"\r",
									"pm.test(\"Correct non updated elements\", function () {\r",
									"    pm.expect(response.updatedShoppinglist.year).to.eql(2022);\r",
									"    pm.expect(ketchupObject.itemId).to.eql(1);\r",
									"    pm.expect(ketchupObject.item).to.eql(\"ketchup\");\r",
									"    pm.expect(ketchupObject.amount).to.eql(5);\r",
									"    pm.expect(ketchupObject.unit).to.eql(\"ml\");\r",
									"\r",
									"    pm.expect(potatoObject.itemId).to.eql(2);\r",
									"    pm.expect(potatoObject.item).to.eql(\"potato\");\r",
									"    pm.expect(potatoObject.amount).to.eql(100);\r",
									"    pm.expect(potatoObject.unit).to.eql(\"grams\");\r",
									"\r",
									"});\r",
									"\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{   \r\n  \"week\":51,\r\n   \"items\": [\r\n        {  \r\n        \"itemId\": 1,    \r\n        \"item\":\"ketchup\",\r\n        \"amount\":5,\r\n        \"unit\":\"ml\"\r\n         },{\r\n        \"itemId\": 2,\r\n        \"item\":\"potato\",\r\n        \"amount\":100,\r\n        \"unit\":\"grams\"\r\n        },{\r\n        \"itemId\": 3,\r\n        \"item\":\"milk\",\r\n        \"amount\":1,\r\n        \"unit\":\"l\"\r\n        }\r\n    ]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/shoppinglists/:shoplistId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"shoppinglists",
								":shoplistId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								},
								{
									"key": "shoplistId",
									"value": "{{shopList_2}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get  add updated shopList2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response =  pm.response.json();\r",
									"\r",
									"const ketchupObject = response.shoppinglist[0].items.find(obj => obj.item ===\"ketchup\");\r",
									"const potatoObject = response.shoppinglist[0].items.find(obj => obj.item ===\"potato\");\r",
									"const milkObject = response.shoppinglist[0].items.find(obj => obj.item ===\"milk\");\r",
									"\r",
									"pm.test(\"Correct status code\", function(){\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct shoppinglist response- non item attributes\", function () {\r",
									"    pm.expect(response.shoppinglist[0].week).to.eql(51);\r",
									"     pm.expect(response.shoppinglist[0].year).to.eql(2022);  \r",
									"});\r",
									"\r",
									"\r",
									"pm.test(\"Correct  first items array object response\", function () {\r",
									"    pm.expect(ketchupObject.itemId).to.eql(1);\r",
									"    pm.expect(ketchupObject.item).to.eql(\"ketchup\");\r",
									"    pm.expect(ketchupObject.amount).to.eql(5);\r",
									"    pm.expect(ketchupObject.unit).to.eql(\"ml\");\r",
									"\r",
									"});\r",
									"\r",
									"pm.test(\"Correct  second items array object response\", function () {\r",
									"\r",
									"    pm.expect(potatoObject.itemId).to.eql(2);\r",
									"    pm.expect(potatoObject.item).to.eql(\"potato\");\r",
									"    pm.expect(potatoObject.amount).to.eql(100);\r",
									"    pm.expect(potatoObject.unit).to.eql(\"grams\");\r",
									"});\r",
									"\r",
									"pm.test(\"Correct  third items array object response\", function () {\r",
									"\r",
									"    pm.expect(milkObject.itemId).to.eql(3);\r",
									"    pm.expect(milkObject.item).to.eql(\"milk\");\r",
									"    pm.expect(milkObject.amount).to.eql(1);\r",
									"    pm.expect(milkObject.unit).to.eql(\"l\");\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/shoppinglists/:shoplistId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"shoppinglists",
								":shoplistId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								},
								{
									"key": "shoplistId",
									"value": "{{shopList_2}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Remove  one item",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response =  pm.response.json();\r",
									"\r",
									"const ketchupObject = response.updatedShoppinglist.items.find(obj => obj.item ===\"ketchup\");\r",
									"const potatoObject = response.updatedShoppinglist.items.find(obj => obj.item ===\"potato\");\r",
									"\r",
									"\r",
									"pm.test(\"Correct status code\", function(){\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"\r",
									"pm.test(\"Correct non items element\", function () {\r",
									"   pm.expect(response.updatedShoppinglist.year).to.eql(2022);\r",
									"   pm.expect(response.updatedShoppinglist.week).to.eql(51);\r",
									" \r",
									"});\r",
									"\r",
									"\r",
									"pm.test(\"Correct updated item list\", function () {\r",
									"\r",
									"    pm.expect(ketchupObject.itemId).to.eql(1);\r",
									"    pm.expect(ketchupObject.item).to.eql(\"ketchup\");\r",
									"    pm.expect(ketchupObject.amount).to.eql(5);\r",
									"    pm.expect(ketchupObject.unit).to.eql(\"ml\");\r",
									"\r",
									"    pm.expect(potatoObject.itemId).to.eql(2);\r",
									"    pm.expect(potatoObject.item).to.eql(\"potato\");\r",
									"    pm.expect(potatoObject.amount).to.eql(100);\r",
									"    pm.expect(potatoObject.unit).to.eql(\"grams\");\r",
									"\r",
									"});\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{   \r\n   \"items\": [\r\n        {  \r\n        \"itemId\": 1,    \r\n        \"item\":\"ketchup\",\r\n        \"amount\":5,\r\n        \"unit\":\"ml\"\r\n         },{\r\n        \"itemId\": 2,\r\n        \"item\":\"potato\",\r\n        \"amount\":100,\r\n        \"unit\":\"grams\"\r\n        }\r\n    ]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/shoppinglists/:shoplistId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"shoppinglists",
								":shoplistId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								},
								{
									"key": "shoplistId",
									"value": "{{shopList_2}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get updated shopList2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response =  pm.response.json();\r",
									"\r",
									"const potatoObject = response.shoppinglist[0].items.find(obj => obj.item ===\"potato\");\r",
									"\r",
									"const ketchupObject = response.shoppinglist[0].items.find(obj => obj.item ===\"ketchup\");\r",
									"\r",
									"\r",
									"pm.test(\"Correct status code\",\r",
									"    function(){\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct recipe response - excluding array of object\", function () {\r",
									"    pm.expect(response.shoppinglist[0].week).to.eql(51);\r",
									"    pm.expect(response.shoppinglist[0].year).to.eql(2022);\r",
									"\r",
									"});\r",
									"\r",
									"\r",
									"pm.test(\"Correct  second items array object response\", function () {\r",
									"    pm.expect(ketchupObject.itemId).to.eql(1);\r",
									"    pm.expect(ketchupObject.item).to.eql(\"ketchup\");\r",
									"    pm.expect(ketchupObject.amount).to.eql(5);\r",
									"    pm.expect(ketchupObject.unit).to.eql(\"ml\");\r",
									"\r",
									"});\r",
									"\r",
									"pm.test(\"Correct  second items array object response\", function () {\r",
									"\r",
									"    pm.expect(potatoObject.itemId).to.eql(2);\r",
									"    pm.expect(potatoObject.item).to.eql(\"potato\");\r",
									"    pm.expect(potatoObject.amount).to.eql(100);\r",
									"    pm.expect(potatoObject.unit).to.eql(\"grams\");\r",
									"\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/shoppinglists/:shoplistId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"shoppinglists",
								":shoplistId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								},
								{
									"key": "shoplistId",
									"value": "{{shopList_2}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Expect-User not found",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Correct status code\", function(){\r",
									"    pm.response.to.have.status(404);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct error response\", function () {\r",
									"    var jsonData = pm.response.json(); // parse to json\r",
									"    pm.expect(jsonData.message).to.eql(\"User not found\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/shoppinglists/:shoplistId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"shoppinglists",
								":shoplistId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "6328bab1c3ca1162dcb1342e"
								},
								{
									"key": "shoplistId",
									"value": "{{shopList_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "change shopList2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response =  pm.response.json();\r",
									"\r",
									"\r",
									"const ketchupObject = response.updatedShoppinglist.items.find(obj => obj.item ===\"ketchup\");\r",
									"\r",
									"pm.test(\"Correct status code\",\r",
									"    function(){\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct shoppinglist response - excluding array of object\", function () {\r",
									"    var response =  pm.response.json();\r",
									"      pm.expect(response.updatedShoppinglist.week).to.eql(40);\r",
									"    pm.expect(response.updatedShoppinglist.year).to.eql(2022);\r",
									"\r",
									"});\r",
									"\r",
									"\r",
									"pm.test(\"Correct  first item response\", function () {\r",
									"    pm.expect(ketchupObject.itemId).to.eql(1);\r",
									"    pm.expect(ketchupObject.item).to.eql(\"ketchup\");\r",
									"    pm.expect(ketchupObject.amount).to.eql(1);\r",
									"    pm.expect(ketchupObject.unit).to.eql(\"ml\");\r",
									"\r",
									"\r",
									"});\r",
									"\r",
									"\r",
									"\r",
									"\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"week\": 40,\r\n    \"year\":2022,\r\n \"items\": [\r\n        {  \r\n        \"itemId\": 1,    \r\n        \"item\":\"ketchup\",\r\n        \"amount\":1,\r\n        \"unit\":\"ml\"\r\n         }\r\n    ]  \r\n}"
						},
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/shoppinglists/:shoplistId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"shoppinglists",
								":shoplistId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								},
								{
									"key": "shoplistId",
									"value": "{{shopList_2}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get  put changed  shopList2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response =  pm.response.json();\r",
									"\r",
									"const ketchupObject = response.shoppinglist[0].items.find(obj => obj.item ===\"ketchup\");\r",
									"\r",
									"\r",
									"\r",
									"pm.test(\"Correct status code\", function(){\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct shoppinglist response- non item attributes\", function () {\r",
									"    pm.expect(response.shoppinglist[0].week).to.eql(40);\r",
									"     pm.expect(response.shoppinglist[0].year).to.eql(2022);  \r",
									"});\r",
									"\r",
									"\r",
									"pm.test(\"Correct  first items array object response\", function () {\r",
									"    pm.expect(ketchupObject.itemId).to.eql(1);\r",
									"    pm.expect(ketchupObject.item).to.eql(\"ketchup\");\r",
									"    pm.expect(ketchupObject.amount).to.eql(1);\r",
									"    pm.expect(ketchupObject.unit).to.eql(\"ml\");\r",
									"\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/shoppinglists/:shoplistId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"shoppinglists",
								":shoplistId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								},
								{
									"key": "shoplistId",
									"value": "{{shopList_2}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete shoppinglist 1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"\r",
									"\r",
									"pm.test(\"Correct status code\", function(){\r",
									"  pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct error response\", function () {\r",
									"    var jsonData = pm.response.json(); // parse to json\r",
									"    pm.expect(jsonData.message).to.eql('The shoppinglist for week 20 has been deleted');\r",
									"});\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/shoppinglists/:shoplistId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"shoppinglists",
								":shoplistId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								},
								{
									"key": "shoplistId",
									"value": "{{shopList_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete shoppinglist 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Correct status code\", function(){\r",
									"  pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct error response\", function () {\r",
									"    var jsonData = pm.response.json(); // parse to json\r",
									"    pm.expect(jsonData.message).to.eql('The shoppinglist for week 40 has been deleted');\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/shoppinglists/:shoplistId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"shoppinglists",
								":shoplistId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								},
								{
									"key": "shoplistId",
									"value": "{{shopList_2}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Expect Get spec error message",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Correct status code\", function(){\r",
									"    pm.response.to.have.status(404);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct error response\", function () {\r",
									"    var jsonData = pm.response.json(); // parse to json\r",
									"    pm.expect(jsonData.message).to.eql(\"Shoppinglist not found\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/shoppinglists/:shoplistId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"shoppinglists",
								":shoplistId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								},
								{
									"key": "shoplistId",
									"value": "632b5baf9f411542cc95e666"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Expect Get all error message",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Correct status code\", function(){\r",
									"    pm.response.to.have.status(404);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct error response\", function () {\r",
									"    var jsonData = pm.response.json(); // parse to json\r",
									"    pm.expect(jsonData.message).to.eql(\"Shoppinglist not found\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/shoppinglists",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"shoppinglists"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Expect - shoppinglist not found",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Correct status code\", function(){\r",
									"  pm.response.to.have.status(404);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct error response\", function () {\r",
									"    var jsonData = pm.response.json(); // parse to json\r",
									"    pm.expect(jsonData.message).to.eql(\"Shoppinglist not found\");\r",
									" \r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/shoppinglists/:shoplistId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"shoppinglists",
								":shoplistId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								},
								{
									"key": "shoplistId",
									"value": "632b5baf9f411542cc95e666"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "shoppingList 1 Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response =  pm.response.json();\r",
									"var shopList = response.shoppinglistCreated._id;\r",
									"pm.environment.set(\"shopList_1\", shopList)\r",
									"\r",
									"const potatoObject = response.shoppinglistCreated.items.find(obj => obj.item ===\"potato\");\r",
									"\r",
									"const ketchupObject = response.shoppinglistCreated.items.find(obj => obj.item ===\"ketchup\");\r",
									"\r",
									"const milkObject = response.shoppinglistCreated.items.find(obj => obj.item ===\"milk\");\r",
									"\r",
									"\r",
									"pm.test(\"Correct status code\",\r",
									"    function(){\r",
									"    pm.response.to.have.status(201);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct shoppinglist response - excluding array of object\", function () {\r",
									"    var response =  pm.response.json();\r",
									"      pm.expect(response.shoppinglistCreated.week).to.eql(20);\r",
									"    pm.expect(response.shoppinglistCreated.year).to.eql(2022);\r",
									"});\r",
									"\r",
									"\r",
									"pm.test(\"Correct  first item response\", function () {\r",
									"\r",
									"    pm.expect(ketchupObject.itemId).to.eql(1);\r",
									"    pm.expect(ketchupObject.item).to.eql(\"ketchup\");\r",
									"    pm.expect(ketchupObject.amount).to.eql(5);\r",
									"    pm.expect(ketchupObject.unit).to.eql(\"ml\");\r",
									"\r",
									"\r",
									"});\r",
									"\r",
									"pm.test(\"Correct second item response\", function () {\r",
									"\r",
									"    pm.expect(potatoObject.itemId).to.eql(2);\r",
									"    pm.expect(potatoObject.item).to.eql(\"potato\");\r",
									"    pm.expect(potatoObject.amount).to.eql(100);\r",
									"    pm.expect(potatoObject.unit).to.eql(\"grams\");\r",
									"});\r",
									"\r",
									"pm.test(\"Correct third item response\", function () {\r",
									"\r",
									"    pm.expect(milkObject.itemId).to.eql(3);\r",
									"    pm.expect(milkObject.item).to.eql(\"milk\");\r",
									"    pm.expect(milkObject.amount).to.eql(1);\r",
									"    pm.expect(milkObject.unit).to.eql(\"l\");\r",
									"});\r",
									"\r",
									"\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "\r\n{\r\n    \"week\": 20,\r\n    \"year\":2022,\r\n    \"items\": [\r\n        {  \r\n        \"itemId\": 1,    \r\n        \"item\":\"ketchup\",\r\n        \"amount\":5,\r\n        \"unit\":\"ml\"\r\n         },{\r\n        \"itemId\": 2,\r\n        \"item\":\"potato\",\r\n        \"amount\":100,\r\n        \"unit\":\"grams\"\r\n        },{\r\n        \"itemId\": 3,\r\n        \"item\":\"milk\",\r\n        \"amount\":1,\r\n        \"unit\":\"l\"\r\n        }\r\n    ]\r\n}\r\n"
						},
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/shoppinglists",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"shoppinglists"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "shoppingList 2 Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response =  pm.response.json();\r",
									"var shopList = response.shoppinglistCreated._id;\r",
									"pm.environment.set(\"shopList_2\", shopList)\r",
									"\r",
									"const potatoObject = response.shoppinglistCreated.items.find(obj => obj.item ===\"potato\");\r",
									"\r",
									"const ketchupObject = response.shoppinglistCreated.items.find(obj => obj.item ===\"ketchup\");\r",
									"\r",
									"pm.test(\"Correct status code\",\r",
									"    function(){\r",
									"    pm.response.to.have.status(201);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct shoppinglist response - excluding array of object\", function () {\r",
									"    var response =  pm.response.json();\r",
									"      pm.expect(response.shoppinglistCreated.week).to.eql(50);\r",
									"    pm.expect(response.shoppinglistCreated.year).to.eql(2022);\r",
									"\r",
									"});\r",
									"\r",
									"\r",
									"pm.test(\"Correct  first item response\", function () {\r",
									"    pm.expect(ketchupObject.itemId).to.eql(1);\r",
									"    pm.expect(ketchupObject.item).to.eql(\"ketchup\");\r",
									"    pm.expect(ketchupObject.amount).to.eql(1);\r",
									"    pm.expect(ketchupObject.unit).to.eql(\"ml\");\r",
									"\r",
									"\r",
									"});\r",
									"\r",
									"pm.test(\"Correct  second item response\", function () {\r",
									"\r",
									"    pm.expect(potatoObject.itemId).to.eql(2);\r",
									"    pm.expect(potatoObject.item).to.eql(\"potato\");\r",
									"    pm.expect(potatoObject.amount).to.eql(200);\r",
									"    pm.expect(potatoObject.unit).to.eql(\"grams\");\r",
									"});\r",
									"\r",
									"\r",
									"\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"week\": 50,\r\n    \"year\":2022,\r\n \"items\": [\r\n        {  \r\n        \"itemId\": 1,    \r\n        \"item\":\"ketchup\",\r\n        \"amount\":1,\r\n        \"unit\":\"ml\"\r\n         },{\r\n        \"itemId\": 2,\r\n        \"item\":\"potato\",\r\n        \"amount\":200,\r\n        \"unit\":\"grams\"\r\n        }\r\n    ]  \r\n}"
						},
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/shoppinglists/",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"shoppinglists",
								""
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete All shoppinglist",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"\r",
									"\r",
									"pm.test(\"Correct status code\", function(){\r",
									"  pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct error response\", function () {\r",
									"    var jsonData = pm.response.json(); // parse to json\r",
									"    pm.expect(jsonData.message).to.eql('All shoppinglist have been deleted');\r",
									"});\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/shoppinglists",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"shoppinglists"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Expect not found",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Correct status code\", function(){\r",
									"    pm.response.to.have.status(404);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct error response\", function () {\r",
									"    var jsonData = pm.response.json(); // parse to json\r",
									"    pm.expect(jsonData.message).to.eql('Shoppinglist not found');\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/shoppinglists/",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"shoppinglists",
								""
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete profile 1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Correct status code\", function(){\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct user message\"), function(){\r",
									"      var jsonData = pm.response.json(); // parse to json\r",
									"    pm.expect(jsonData.message).to.eql(\"The profile has been deleted\");\r",
									"}"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Days Controller Test",
			"item": [
				{
					"name": "Sign up  profile 1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response =  pm.response.json();\r",
									"var profileId = response.userCreated._id;\r",
									"pm.environment.set(\"profileID_1\", profileId)\r",
									"\r",
									"\r",
									"pm.test(\"Correct status code\",\r",
									"    function(){\r",
									"    pm.response.to.have.status(201);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct user response\", function () {\r",
									"    pm.expect(response.userCreated.username).to.eql(\"HarryPotter\");\r",
									"//    pm.expect(jsonData.userCreated.password).to.eql(\"Hogwarts123\"); - it hash now\r",
									"});\r",
									"\r",
									"\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\":\"HarryPotter\",\r\n    \"password\":\"Hogwarts123\"\r\n}"
						},
						"url": {
							"raw": "{{host}}/api/profiles/signup",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								"signup"
							]
						}
					},
					"response": []
				},
				{
					"name": "Login profile 1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response =  pm.response.json();\r",
									"var token = response.token;\r",
									"pm.environment.set(\"token_p1\", token)\r",
									"\r",
									"\r",
									"pm.test(\"Correct status code\", function(){\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"pm.collectionVariables.get(\"variable_key\");\r",
									"pm.test(\"Correct login response\", function () {\r",
									"      pm.expect(response.message).to.eql(\"Authentication successful\"); \r",
									"});\r",
									"\r",
									"\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"username\":\"HarryPotter\",\r\n    \"password\":\"Hogwarts123\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/profiles/login",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "NoImage recipe 1- no image Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response =  pm.response.json();\r",
									"var recipeId = response.recipeCreated._id;\r",
									"pm.environment.set(\"recipeId1\", recipeId);\r",
									"\r",
									"const obj1 = response.recipeCreated.items.find(obj => obj.item ===\"ketchup\");\r",
									"\r",
									"const obj2 = response.recipeCreated.items.find(obj => obj.item ===\"sallad\");\r",
									"\r",
									"pm.test(\"Correct status code\",\r",
									"    function(){\r",
									"    pm.response.to.have.status(201);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct recipe response - excluding array of object\", function () {\r",
									"    var response =  pm.response.json();\r",
									"    pm.expect(response.recipeCreated.name).to.eql(\"Recipe1\");\r",
									"    pm.expect(response.recipeCreated.category).to.eql(\"Lunch\");\r",
									"    pm.expect(response.recipeCreated.instruction).to.eql(\"Cooking instruction4\"); \r",
									"    pm.expect(response.recipeCreated.image).to.contain(\"http://localhost:3000/uploads/defaultRecipeImage.png-\"); \r",
									"});\r",
									"\r",
									"\r",
									"\r",
									"pm.test(\"Correct first items array object response\", function () {\r",
									"    console.log(obj1);\r",
									"// testing the array of object response\r",
									"    pm.expect(obj1.itemId).to.eql(1);\r",
									"    pm.expect(obj1.item).to.eql(\"ketchup\");\r",
									"    pm.expect(obj1.amount).to.eql(5);\r",
									"    pm.expect(obj1.unit).to.eql(\"ml\");\r",
									"\r",
									"\r",
									"});\r",
									"\r",
									"pm.test(\"Correct  second items array object response\", function () {\r",
									"    console.log(obj2);\r",
									"// testing the array of object response\r",
									"    pm.expect(obj2.itemId).to.eql(2);\r",
									"    pm.expect(obj2.item).to.eql(\"sallad\");\r",
									"    pm.expect(obj2.amount).to.eql(200);\r",
									"    pm.expect(obj2.unit).to.eql(\"grams\");\r",
									"});\r",
									"\r",
									" \r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{   \r\n    \"name\":\"Recipe1\",\r\n    \"category\": \"Lunch\",\r\n    \"picture\":\"\",\r\n    \"instruction\":\"Cooking instruction4\",\r\n    \"items\": [\r\n        {\r\n        \"itemId\": 1,    \r\n        \"item\":\"ketchup\",\r\n        \"amount\":\"5\",\r\n        \"unit\":\"ml\"\r\n         },{\r\n        \"itemId\": 2,\r\n        \"item\":\"sallad\",\r\n        \"amount\":\"200\",\r\n        \"unit\":\"grams\"\r\n        }\r\n    ]\r\n    \r\n}"
						},
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/recipes",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"recipes"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Day 1 -week 1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData =  pm.response.json();",
									"var dayId = jsonData.dayCreated._id;",
									"pm.environment.set(\"dayID_1\", dayId);",
									"",
									"pm.test(\"Correct status code\",",
									"    function(){",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Correct day response\", function () {",
									"    var jsonData = pm.response.json(); // parse to json",
									"    pm.expect(jsonData.dayCreated.name).to.eql(\"Monday\");",
									"    pm.expect(jsonData.dayCreated.week).to.eql(1);",
									"    pm.expect(jsonData.dayCreated.year).to.eql(2022);",
									"});",
									"",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Acccept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Monday\",\n    \"week\": 1,\n    \"year\": 2022,\n    \"recipes\":\"{{recipeId1}}\"\n}\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/days",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"days"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Day 2-week 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData =  pm.response.json();",
									"var dayId = jsonData.dayCreated._id;",
									"pm.environment.set(\"dayID_2\", dayId);",
									"",
									"pm.test(\"Correct status code\",",
									"    function(){",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Correct day response\", function () {",
									"    var jsonData = pm.response.json(); // parse to json",
									"    pm.expect(jsonData.dayCreated.name).to.eql(\"Friday\");",
									"    pm.expect(jsonData.dayCreated.week).to.eql(2);",
									"    pm.expect(jsonData.dayCreated.year).to.eql(2022);",
									"});",
									"",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Acccept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Friday\",\n    \"week\": 2,\n    \"year\": 2022,\n    \"recipes\":\"{{recipeId1}}\"\n}\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/days",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"days"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Day 3-second day week 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData =  pm.response.json();",
									"var dayId = jsonData.dayCreated._id;",
									"pm.environment.set(\"dayID_3\", dayId);",
									"",
									"pm.test(\"Correct status code\",",
									"    function(){",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Correct day response\", function () {",
									"    var jsonData = pm.response.json(); // parse to json",
									"    pm.expect(jsonData.dayCreated.name).to.eql(\"Monday\");",
									"    pm.expect(jsonData.dayCreated.week).to.eql(2);",
									"    pm.expect(jsonData.dayCreated.year).to.eql(2022);",
									"});",
									"",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Acccept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Monday\",\n    \"week\": 2,\n    \"year\": 2022,\n    \"recipes\":\"{{recipeId1}}\"\n}\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/days",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"days"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Day 4- week 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData =  pm.response.json();",
									"var dayId = jsonData.dayCreated._id;",
									"pm.environment.set(\"dayID_4\", dayId);",
									"",
									"pm.test(\"Correct status code\",",
									"    function(){",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Correct day response\", function () {",
									"    var jsonData = pm.response.json(); // parse to json",
									"    pm.expect(jsonData.dayCreated.name).to.eql(\"Monday\");",
									"    pm.expect(jsonData.dayCreated.week).to.eql(2);",
									"    pm.expect(jsonData.dayCreated.year).to.eql(2021);",
									"});",
									"",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Acccept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Monday\",\n    \"week\": 2,\n    \"year\": 2021,\n    \"recipes\":\"{{recipeId1}}\"\n}\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/days",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"days"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Check days Uniqueness",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData =  pm.response.json();",
									"",
									"",
									"pm.test(\"Correct status code\",",
									"    function(){",
									"    pm.response.to.have.status(409);",
									"});",
									"",
									"pm.test(\"Correct day response\", function () {",
									"",
									"    pm.expect(jsonData.message).to.eql(\"Day already exist\");",
									"});",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Acccept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Monday\",\n    \"week\": 1,\n    \"year\": 2022,\n    \"recipes\":\"{{recipeId1}}\"\n}\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/days",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"days"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get profile with one day",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response = pm.response.json();\r",
									"var dayID_1 = pm.environment.get('dayID_1');\r",
									"\r",
									"pm.test(\"Correct status code\",\r",
									"    function(){\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct user response\", function () {\r",
									"    pm.expect(response.username).to.eql(\"HarryPotter\");\r",
									"    pm.expect(response.days).to.include(dayID_1);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get all days",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response = pm.response.json(); ",
									"var days = response.days;",
									"pm.test(\"Correct status code\", function() {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('Number of days = ' + days.length, function () {",
									"",
									"    pm.expect(days.length).to.eql(4);",
									"});",
									"",
									"pm.test(' Right order ', function () {",
									"    pm.expect(days[0].week).to.eql(2)",
									"    pm.expect(days[1].week).to.eql(2)",
									"    pm.expect(days[2].week).to.eql(1)",
									"    pm.expect(days[3].week).to.eql(2)",
									"",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/days",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"days"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get all days For week 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response = pm.response.json(); ",
									"var days = response.days;",
									"",
									"pm.test(\"Correct status code\", function() {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('Number of days = ' + days.length, function () {",
									"",
									"    pm.expect(days.length).to.eql(7);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/days?week=2&year=2022",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"days"
							],
							"query": [
								{
									"key": "week",
									"value": "2"
								},
								{
									"key": "year",
									"value": "2022"
								}
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Empty week",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response = pm.response.json(); ",
									"var days = response.days;",
									"",
									"pm.test(\"Correct status code\", function() {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('Number of days = ' + days.length, function () {",
									"",
									"    pm.expect(days.length).to.eql(7);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/days?week=3&year=2023",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"days"
							],
							"query": [
								{
									"key": "week",
									"value": "3"
								},
								{
									"key": "year",
									"value": "2023"
								}
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get  unique weeks and year. Sorted",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response = pm.response.json(); ",
									"var weeklyCalenders = response.weeklyCalenders;",
									"",
									"pm.test(\"Correct status code\", function() {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('Number of weeklyCalenders = ' + weeklyCalenders.length, function () {",
									"",
									"    pm.expect(weeklyCalenders.length).to.eql(3);",
									"});",
									"",
									"pm.test('Correct order', function(){",
									"    pm.expect(weeklyCalenders[0].week).to.eql(2)",
									"    pm.expect(weeklyCalenders[0].year).to.eql(2022)",
									"    pm.expect(weeklyCalenders[1].week).to.eql(1)",
									"    pm.expect(weeklyCalenders[1].year).to.eql(2022)",
									"    pm.expect(weeklyCalenders[2].week).to.eql(2)",
									"    pm.expect(weeklyCalenders[2].year).to.eql(2021)",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/days?weekcalenders=true",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"days"
							],
							"query": [
								{
									"key": "weekcalenders",
									"value": "true"
								}
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get day 1 - including the recipe",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Correct status code\", function() {",
									"    pm.response.to.have.status(200);",
									"})",
									"",
									"pm.test(\"Correct day response\", function() {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.day[0].name).to.eql(\"Monday\");",
									"    pm.expect(jsonData.day[0].week).to.eql(1);",
									"    pm.expect(jsonData.day[0].year).to.eql(2022);",
									"    pm.expect(jsonData.day[0].recipes[0].name).to.eql(\"Recipe1\");",
									"});",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/days/:dayId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"days",
								":dayId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								},
								{
									"key": "dayId",
									"value": "{{dayID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "NoImage recipe 2- no image",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response =  pm.response.json();\r",
									"var recipeId = response.recipeCreated._id;\r",
									"pm.environment.set(\"recipeId2\", recipeId);\r",
									"\r",
									"const obj1 = response.recipeCreated.items.find(obj => obj.item ===\"chili sauce\");\r",
									"\r",
									"const obj2 = response.recipeCreated.items.find(obj => obj.item ===\"sallad\");\r",
									"\r",
									"pm.test(\"Correct status code\",\r",
									"    function(){\r",
									"    pm.response.to.have.status(201);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct recipe response - excluding array of object\", function () {\r",
									"    var response =  pm.response.json();\r",
									"     pm.expect(response.recipeCreated.name).to.eql(\"Recipe2\");\r",
									"    pm.expect(response.recipeCreated.category).to.eql(\"Lunch\");\r",
									"    pm.expect(response.recipeCreated.instruction).to.eql(\"Cooking instruction2\"); \r",
									"    pm.expect(response.recipeCreated.image).to.contain(\"http://localhost:3000/uploads/defaultRecipeImage.png-\"); \r",
									"});\r",
									"\r",
									"pm.test(\"Correct first items array object response\", function () {\r",
									"    console.log(obj1);\r",
									"// testing the array of object response\r",
									"    pm.expect(obj1.itemId).to.eql(1);\r",
									"    pm.expect(obj1.item).to.eql(\"chili sauce\");\r",
									"    pm.expect(obj1.amount).to.eql(5);\r",
									"    pm.expect(obj1.unit).to.eql(\"ml\");\r",
									"\r",
									"\r",
									"});\r",
									"\r",
									"pm.test(\"Correct  second items array object response\", function () {\r",
									"    console.log(obj2);\r",
									"// testing the array of object response\r",
									"    pm.expect(obj2.itemId).to.eql(2);\r",
									"    pm.expect(obj2.item).to.eql(\"sallad\");\r",
									"    pm.expect(obj2.amount).to.eql(200);\r",
									"    pm.expect(obj2.unit).to.eql(\"grams\");\r",
									"});\r",
									"\r",
									" \r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{   \r\n   \"name\":\"Recipe2\",\r\n    \"category\": \"Lunch\",\r\n    \"picture\":\"\",\r\n    \"instruction\":\"Cooking instruction2\",\r\n    \"items\": [\r\n        {\r\n        \"itemId\": 1,    \r\n        \"item\":\"chili sauce\",\r\n        \"amount\":\"5\",\r\n        \"unit\":\"ml\"\r\n         },{\r\n        \"itemId\": 2,\r\n        \"item\":\"sallad\",\r\n        \"amount\":\"200\",\r\n        \"unit\":\"grams\"\r\n        }\r\n    ]\r\n    \r\n}"
						},
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/recipes",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"recipes"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Change day 3",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response =  pm.response.json();",
									"",
									"pm.test(\"Correct status code\",",
									"    function(){",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Correct day response\", function () {",
									"    pm.expect(response.updatedDay.name).to.eql(\"Sunday\");",
									"    pm.expect(response.updatedDay.week).to.eql(2);",
									"    pm.expect(response.updatedDay.year).to.eql(2021);",
									"});",
									"",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Acccept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Sunday\",\n    \"week\": 2,\n    \"year\": 2021,\n    \"recipes\":\"{{recipeId1}}\"\n}\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/days/:dayId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"days",
								":dayId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								},
								{
									"key": "dayId",
									"value": "{{dayID_3}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get updated day 3",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response =  pm.response.json();",
									"",
									"pm.test(\"Correct status code\",",
									"    function(){",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Correct day response\", function () {",
									"    pm.expect(response.day[0].name).to.eql(\"Sunday\");",
									"    pm.expect(response.day[0].week).to.eql(2);",
									"    pm.expect(response.day[0].year).to.eql(2021);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/days/:dayId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"days",
								":dayId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								},
								{
									"key": "dayId",
									"value": "{{dayID_3}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Updated day 1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response =  pm.response.json();\r",
									"var recipe1 = pm.environment.get('recipeId1');\r",
									"\r",
									"\r",
									"pm.test(\"Correct status code\", function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})\r",
									"\r",
									"pm.test(\"Correct day response\", function() {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(response.updatedDay.name).to.eql(\"Monday\");\r",
									"    pm.expect(response.updatedDay.week).to.eql(1);\r",
									"    pm.expect(response.updatedDay.year).to.eql(2022);\r",
									"    pm.expect(response.updatedDay.recipes).to.include(recipe1);\r",
									"});\r",
									"\r",
									"\r",
									"\r",
									"\r",
									" "
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"name\": \"Monday\",\r\n    \"year\": 2022,\r\n    \"recipes\":[\"{{recipeId1}}\"]\r\n}\r\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/days/:dayId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"days",
								":dayId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								},
								{
									"key": "dayId",
									"value": "{{dayID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get updated day 1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"    var response = pm.response.json();",
									"pm.test(\"Correct status code\", function() {",
									"    pm.response.to.have.status(200);",
									"})",
									"",
									"pm.test(\"Correct day response\", function() {",
									"",
									"    pm.expect(response.day[0].name).to.eql(\"Monday\");",
									"    pm.expect(response.day[0].week).to.eql(1);",
									"    pm.expect(response.day[0].year).to.eql(2022);",
									"    pm.expect(response.day[0].recipes[0].name).to.eql(\"Recipe1\");",
									"});",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/days/:dayId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"days",
								":dayId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								},
								{
									"key": "dayId",
									"value": "{{dayID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "add Recipe",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response =  pm.response.json();\r",
									"var recipe1 = pm.environment.get('recipeId1');\r",
									"var recipe2 = pm.environment.get('recipeId2');\r",
									"\r",
									"pm.test(\"Correct status code\", function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})\r",
									"\r",
									"pm.test(\"Correct day response\", function() {\r",
									"    pm.expect(response.updatedDay.name).to.eql(\"Monday\");\r",
									"    pm.expect(response.updatedDay.week).to.eql(1);\r",
									"    pm.expect(response.updatedDay.year).to.eql(2022);\r",
									"    pm.expect(response.updatedDay.recipes).to.include(recipe1);\r",
									"    pm.expect(response.updatedDay.recipes).to.include(recipe2);\r",
									"});\r",
									"\r",
									"\r",
									"\r",
									"\r",
									" "
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"recipes\":[\"{{recipeId1}}\",\"{{recipeId2}}\"]\r\n}\r\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/days/:dayId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"days",
								":dayId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								},
								{
									"key": "dayId",
									"value": "{{dayID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get updated day with now 2 recipes",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"    var response = pm.response.json();",
									"pm.test(\"Correct status code\", function() {",
									"    pm.response.to.have.status(200);",
									"})",
									"",
									"pm.test(\"Correct day response\", function() {",
									"",
									"    pm.expect(response.day[0].recipes[0].name).to.eql(\"Recipe1\");",
									"    pm.expect(response.day[0].recipes[1].name).to.eql(\"Recipe2\");",
									"});",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/days/:dayId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"days",
								":dayId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								},
								{
									"key": "dayId",
									"value": "{{dayID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete recipe 1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Correct status code\", function(){\r",
									"  pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct error response\", function () {\r",
									"    var jsonData = pm.response.json(); // parse to json\r",
									"    pm.expect(jsonData.message).to.eql('The recipe has been deleted');\r",
									"    pm.expect(jsonData.deletedRecipe).to.eql('Recipe1');\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/recipes/:recipeId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"recipes",
								":recipeId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								},
								{
									"key": "recipeId",
									"value": "{{recipeId1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get updated day with now 2 recipes Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"    var response = pm.response.json();",
									"pm.test(\"Correct status code\", function() {",
									"    pm.response.to.have.status(200);",
									"})",
									"",
									"pm.test(\"Correct day response\", function() {",
									"",
									"    pm.expect(response.day[0].recipes[0].name).to.eql(\"Recipe2\");",
									"});",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/days/:dayId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"days",
								":dayId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								},
								{
									"key": "dayId",
									"value": "{{dayID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Expect-User not found",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Correct status code\", function(){\r",
									"    pm.response.to.have.status(404);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct error response\", function () {\r",
									"    var jsonData = pm.response.json(); // parse to json\r",
									"    pm.expect(jsonData.message).to.eql(\"User not found\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/days/:dayId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"days",
								":dayId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "6328bab1c3ca1162dcb1342e"
								},
								{
									"key": "dayId",
									"value": "{{dayID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete day 1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Correct status code\", function(){",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Correct delete message\"), function(){",
									"      var jsonData = pm.response.json(); // parse to json",
									"    pm.expect(jsonData.message).to.eql(\"The day has been deleted\");",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/days/:dayId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"days",
								":dayId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								},
								{
									"key": "dayId",
									"value": "{{dayID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete recipe 2 Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Correct status code\", function(){\r",
									"  pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct error response\", function () {\r",
									"    var jsonData = pm.response.json(); // parse to json\r",
									"    pm.expect(jsonData.message).to.eql('The recipe has been deleted');\r",
									"    pm.expect(jsonData.deletedRecipe).to.eql('Recipe2');\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/recipes/:recipeId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"recipes",
								":recipeId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								},
								{
									"key": "recipeId",
									"value": "{{recipeId2}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete All Days",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"\r",
									"pm.test(\"Correct status code\", function(){\r",
									"  pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct error response\", function () {\r",
									"    var jsonData = pm.response.json(); // parse to json\r",
									"    pm.expect(jsonData.message).to.eql('All days have been deleted');\r",
									"});\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/days",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"days"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Expect - day not found Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Correct status code\", function(){\r",
									"  pm.response.to.have.status(404);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct error response\", function () {\r",
									"    var jsonData = pm.response.json(); // parse to json\r",
									"    pm.expect(jsonData.message).to.eql(\"Days not found\");\r",
									" \r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/days",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"days"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Expect Get spec error message Copy",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Correct status code\", function(){\r",
									"    pm.response.to.have.status(404);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct error response\", function () {\r",
									"    var jsonData = pm.response.json(); // parse to json\r",
									"    pm.expect(jsonData.message).to.eql(\"Day not found\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/days/:dayId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"days",
								":dayId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								},
								{
									"key": "dayId",
									"value": "6345be966b34b958c0bd5c22"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Expect Get all error message Copy",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Correct status code\", function(){\r",
									"    pm.response.to.have.status(404);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct error response\", function () {\r",
									"    var jsonData = pm.response.json(); // parse to json\r",
									"    pm.expect(jsonData.message).to.eql(\"Day not found\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/days",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"days"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Expect day not found",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Correct status code\", function() {",
									"    pm.response.to.have.status(404);",
									"});",
									"pm.test(\"Correct error response\", function () {",
									"    var jsonData = pm.response.json(); // parse to json",
									"    pm.expect(jsonData.message).to.eql(\"Day not found\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/days",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"days"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Day 1 -week 1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData =  pm.response.json();",
									"var dayId = jsonData.dayCreated._id;",
									"pm.environment.set(\"dayID_1\", dayId);",
									"",
									"pm.test(\"Correct status code\",",
									"    function(){",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Correct day response\", function () {",
									"    var jsonData = pm.response.json(); // parse to json",
									"    pm.expect(jsonData.dayCreated.name).to.eql(\"Monday\");",
									"    pm.expect(jsonData.dayCreated.week).to.eql(1);",
									"    pm.expect(jsonData.dayCreated.year).to.eql(2022);",
									"});",
									"",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Acccept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Monday\",\n    \"week\": 1,\n    \"year\": 2022\n}\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/days",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"days"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Day 2-week 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData =  pm.response.json();",
									"var dayId = jsonData.dayCreated._id;",
									"pm.environment.set(\"dayID_1\", dayId);",
									"",
									"pm.test(\"Correct status code\",",
									"    function(){",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Correct day response\", function () {",
									"    var jsonData = pm.response.json(); // parse to json",
									"    pm.expect(jsonData.dayCreated.name).to.eql(\"Friday\");",
									"    pm.expect(jsonData.dayCreated.week).to.eql(2);",
									"    pm.expect(jsonData.dayCreated.year).to.eql(2022);",
									"});",
									"",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Acccept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Friday\",\n    \"week\": 2,\n    \"year\": 2022\n}\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/days",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"days"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Day 3- week 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData =  pm.response.json();",
									"var dayId = jsonData.dayCreated._id;",
									"pm.environment.set(\"dayID_1\", dayId);",
									"",
									"pm.test(\"Correct status code\",",
									"    function(){",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Correct day response\", function () {",
									"    var jsonData = pm.response.json(); // parse to json",
									"    pm.expect(jsonData.dayCreated.name).to.eql(\"Monday\");",
									"    pm.expect(jsonData.dayCreated.week).to.eql(2);",
									"    pm.expect(jsonData.dayCreated.year).to.eql(2022);",
									"});",
									"",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Acccept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Monday\",\n    \"week\": 2,\n    \"year\": 2022\n}\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/days",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"days"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete week 2 Days",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"\r",
									"pm.test(\"Correct status code\", function(){\r",
									"  pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct error response\", function () {\r",
									"    var jsonData = pm.response.json(); // parse to json\r",
									"    pm.expect(jsonData.message).to.eql('All days for week 2 deleted');\r",
									"});\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/days?week=2&year=2022",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"days"
							],
							"query": [
								{
									"key": "week",
									"value": "2"
								},
								{
									"key": "year",
									"value": "2022"
								}
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Expect 1 day",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response = pm.response.json(); ",
									"var days = response.days;",
									"pm.test(\"Correct status code\", function() {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('Number of days = ' + days.length, function () {",
									"",
									"    pm.expect(days.length).to.eql(1);",
									"});",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/days",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"days"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete profile 1 Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Correct status code\", function(){\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct user message\"), function(){\r",
									"      var jsonData = pm.response.json(); // parse to json\r",
									"    pm.expect(jsonData.message).to.eql(\"The profile has been deleted\");\r",
									"}"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Recipe  delete on cascade",
			"item": [
				{
					"name": "Sign up  profile 1 Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response =  pm.response.json();\r",
									"var profileId = response.userCreated._id;\r",
									"pm.environment.set(\"profileID_1\", profileId)\r",
									"\r",
									"\r",
									"pm.test(\"Correct status code\",\r",
									"    function(){\r",
									"    pm.response.to.have.status(201);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct user response\", function () {\r",
									"    pm.expect(response.userCreated.username).to.eql(\"HarryPotter\");\r",
									"//    pm.expect(jsonData.userCreated.password).to.eql(\"Hogwarts123\"); - it hash now\r",
									"});\r",
									"\r",
									"\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\":\"HarryPotter\",\r\n    \"password\":\"Hogwarts123\"\r\n}"
						},
						"url": {
							"raw": "{{host}}/api/profiles/signup",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								"signup"
							]
						}
					},
					"response": []
				},
				{
					"name": "Login profile 1 Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response =  pm.response.json();\r",
									"var token = response.token;\r",
									"pm.environment.set(\"token_p1\", token)\r",
									"\r",
									"\r",
									"pm.test(\"Correct status code\", function(){\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"pm.collectionVariables.get(\"variable_key\");\r",
									"pm.test(\"Correct login response\", function () {\r",
									"      pm.expect(response.message).to.eql(\"Authentication successful\"); \r",
									"});\r",
									"\r",
									"\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"username\":\"HarryPotter\",\r\n    \"password\":\"Hogwarts123\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/profiles/login",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "NoImage recipe 1- no image Copy 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response =  pm.response.json();\r",
									"var recipeId = response.recipeCreated._id;\r",
									"pm.environment.set(\"recipeId1\", recipeId);\r",
									"\r",
									"const obj1 = response.recipeCreated.items.find(obj => obj.item ===\"ketchup\");\r",
									"\r",
									"const obj2 = response.recipeCreated.items.find(obj => obj.item ===\"sallad\");\r",
									"\r",
									"pm.test(\"Correct status code\",\r",
									"    function(){\r",
									"    pm.response.to.have.status(201);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct recipe response - excluding array of object\", function () {\r",
									"    var response =  pm.response.json();\r",
									"    pm.expect(response.recipeCreated.name).to.eql(\"Recipe1\");\r",
									"    pm.expect(response.recipeCreated.category).to.eql(\"Lunch\");\r",
									"    pm.expect(response.recipeCreated.instruction).to.eql(\"Cooking instruction4\"); \r",
									"    pm.expect(response.recipeCreated.image).to.contain(\"http://localhost:3000/uploads/defaultRecipeImage.png-\"); \r",
									"});\r",
									"\r",
									"\r",
									"\r",
									"pm.test(\"Correct first items array object response\", function () {\r",
									"    console.log(obj1);\r",
									"// testing the array of object response\r",
									"    pm.expect(obj1.itemId).to.eql(1);\r",
									"    pm.expect(obj1.item).to.eql(\"ketchup\");\r",
									"    pm.expect(obj1.amount).to.eql(5);\r",
									"    pm.expect(obj1.unit).to.eql(\"ml\");\r",
									"\r",
									"\r",
									"});\r",
									"\r",
									"pm.test(\"Correct  second items array object response\", function () {\r",
									"    console.log(obj2);\r",
									"// testing the array of object response\r",
									"    pm.expect(obj2.itemId).to.eql(2);\r",
									"    pm.expect(obj2.item).to.eql(\"sallad\");\r",
									"    pm.expect(obj2.amount).to.eql(200);\r",
									"    pm.expect(obj2.unit).to.eql(\"grams\");\r",
									"});\r",
									"\r",
									" \r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{   \r\n    \"name\":\"Recipe1\",\r\n    \"category\": \"Lunch\",\r\n    \"picture\":\"\",\r\n    \"instruction\":\"Cooking instruction4\",\r\n    \"items\": [\r\n        {\r\n        \"itemId\": 1,    \r\n        \"item\":\"ketchup\",\r\n        \"amount\":\"5\",\r\n        \"unit\":\"ml\"\r\n         },{\r\n        \"itemId\": 2,\r\n        \"item\":\"sallad\",\r\n        \"amount\":\"200\",\r\n        \"unit\":\"grams\"\r\n        }\r\n    ]\r\n    \r\n}"
						},
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/recipes",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"recipes"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Day 1 -week 1 Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData =  pm.response.json();",
									"var dayId = jsonData.dayCreated._id;",
									"pm.environment.set(\"dayID_1\", dayId);",
									"",
									"pm.test(\"Correct status code\",",
									"    function(){",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Correct day response\", function () {",
									"    var jsonData = pm.response.json(); // parse to json",
									"    pm.expect(jsonData.dayCreated.name).to.eql(\"Monday\");",
									"    pm.expect(jsonData.dayCreated.week).to.eql(1);",
									"    pm.expect(jsonData.dayCreated.year).to.eql(2022);",
									"});",
									"",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Acccept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Monday\",\n    \"week\": 1,\n    \"year\": 2022,\n    \"recipes\":\"{{recipeId1}}\"\n}\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/days",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"days"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get day 1 - including the recipe",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Correct status code\", function() {",
									"    pm.response.to.have.status(200);",
									"})",
									"",
									"pm.test(\"Correct day response\", function() {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.day[0].name).to.eql(\"Monday\");",
									"    pm.expect(jsonData.day[0].week).to.eql(1);",
									"    pm.expect(jsonData.day[0].year).to.eql(2022);",
									"    pm.expect(jsonData.day[0].recipes[0].name).to.eql(\"Recipe1\");",
									"});",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/days/:dayId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"days",
								":dayId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								},
								{
									"key": "dayId",
									"value": "{{dayID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete recipe 1 Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Correct status code\", function(){\r",
									"  pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct error response\", function () {\r",
									"    var jsonData = pm.response.json(); // parse to json\r",
									"    pm.expect(jsonData.message).to.eql('The recipe has been deleted');\r",
									"\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/recipes/:recipeId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"recipes",
								":recipeId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								},
								{
									"key": "recipeId",
									"value": "{{recipeId1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get day 1 - no recipes",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response = pm.response.json(); ",
									"",
									"pm.test(\"Correct status code\", function() {",
									"    pm.response.to.have.status(200);",
									"})",
									"pm.test(' No recipes = ', function () {",
									"    pm.expect(response.day[0].recipes.length).to.eql(0);",
									"});",
									"",
									"",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/days/:dayId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"days",
								":dayId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								},
								{
									"key": "dayId",
									"value": "{{dayID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete profile 1 Copy 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Correct status code\", function(){\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct user message\"), function(){\r",
									"      var jsonData = pm.response.json(); // parse to json\r",
									"    pm.expect(jsonData.message).to.eql(\"The profile has been deleted\");\r",
									"}"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "updateManyDay",
			"item": [
				{
					"name": "Sign up  profile 1 Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response =  pm.response.json();\r",
									"var profileId = response.userCreated._id;\r",
									"pm.environment.set(\"profileID_1\", profileId)\r",
									"\r",
									"\r",
									"pm.test(\"Correct status code\",\r",
									"    function(){\r",
									"    pm.response.to.have.status(201);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct user response\", function () {\r",
									"    pm.expect(response.userCreated.username).to.eql(\"Milton\");\r",
									"//    pm.expect(jsonData.userCreated.password).to.eql(\"Hogwarts123\"); - it hash now\r",
									"});\r",
									"\r",
									"\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\":\"Milton\",\r\n    \"password\":\"123\"\r\n}"
						},
						"url": {
							"raw": "{{host}}/api/profiles/signup",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								"signup"
							]
						}
					},
					"response": []
				},
				{
					"name": "Login profile 1 Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response =  pm.response.json();\r",
									"var token = response.token;\r",
									"pm.environment.set(\"token_p1\", token)\r",
									"\r",
									"\r",
									"pm.test(\"Correct status code\", function(){\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"pm.collectionVariables.get(\"variable_key\");\r",
									"pm.test(\"Correct login response\", function () {\r",
									"      pm.expect(response.message).to.eql(\"Authentication successful\"); \r",
									"});\r",
									"\r",
									"\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"username\":\"Milton\",\r\n    \"password\":\"123\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/profiles/login",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Day 1-week 2 2022",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData =  pm.response.json();",
									"var dayId = jsonData.dayCreated._id;",
									"pm.environment.set(\"dayID_1\", dayId);",
									"",
									"pm.test(\"Correct status code\",",
									"    function(){",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Correct day response\", function () {",
									"    var jsonData = pm.response.json(); // parse to json",
									"    pm.expect(jsonData.dayCreated.name).to.eql(\"Friday\");",
									"    pm.expect(jsonData.dayCreated.week).to.eql(2);",
									"    pm.expect(jsonData.dayCreated.year).to.eql(2022);",
									"});",
									"",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Acccept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Friday\",\n    \"week\": 2,\n    \"year\": 2022,\n    \"recipes\":\"{{recipeId1}}\"\n}\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/days",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"days"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Day 2- week 2 2022",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData =  pm.response.json();",
									"var dayId = jsonData.dayCreated._id;",
									"pm.environment.set(\"dayID_2\", dayId);",
									"",
									"pm.test(\"Correct status code\",",
									"    function(){",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Correct day response\", function () {",
									"    var jsonData = pm.response.json(); // parse to json",
									"    pm.expect(jsonData.dayCreated.name).to.eql(\"Monday\");",
									"    pm.expect(jsonData.dayCreated.week).to.eql(2);",
									"    pm.expect(jsonData.dayCreated.year).to.eql(2022);",
									"});",
									"",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Acccept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Monday\",\n    \"week\": 2,\n    \"year\": 2022,\n    \"recipes\":\"{{recipeId1}}\"\n}\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/days",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"days"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Day - week 2 2021",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData =  pm.response.json();",
									"var dayId = jsonData.dayCreated._id;",
									"pm.environment.set(\"dayID_4\", dayId);",
									"",
									"pm.test(\"Correct status code\",",
									"    function(){",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Correct day response\", function () {",
									"    var jsonData = pm.response.json(); // parse to json",
									"    pm.expect(jsonData.dayCreated.name).to.eql(\"Monday\");",
									"    pm.expect(jsonData.dayCreated.week).to.eql(2);",
									"    pm.expect(jsonData.dayCreated.year).to.eql(2021);",
									"});",
									"",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Acccept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Monday\",\n    \"week\": 2,\n    \"year\": 2021,\n    \"recipes\":\"{{recipeId1}}\"\n}\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/days",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"days"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "change weeks day",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response = pm.response.json(); ",
									"var days = response.days;",
									"pm.test(\"Correct status code\", function() {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(' Correct message response ', function () {",
									"pm.expect(response.message).to.eql(\"Succesful update\");",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"week\": 2,\r\n    \"year\":2022,\r\n    \"weekdays\":[\"{{dayID_1}}\",\"{{dayID_2}}\"]\r\n}\r\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/days",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"days"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get all days Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response = pm.response.json(); ",
									"var days = response.days;",
									"pm.test(\"Correct status code\", function() {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('Number of days = ' + days.length, function () {",
									"",
									"    pm.expect(days.length).to.eql(3);",
									"});",
									"",
									"",
									"pm.test(' Right order ', function () {",
									"    pm.expect(days[0].week).to.eql(2)",
									"    pm.expect(days[1].week).to.eql(2)",
									"    pm.expect(days[2].week).to.eql(2)",
									"",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId/days",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId",
								"days"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete profile 1 Copy 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Correct status code\", function(){\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Correct user message\"), function(){\r",
									"      var jsonData = pm.response.json(); // parse to json\r",
									"    pm.expect(jsonData.message).to.eql(\"The profile has been deleted\");\r",
									"}"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_p1}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{host}}/api/profiles/:profileId",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"profiles",
								":profileId"
							],
							"variable": [
								{
									"key": "profileId",
									"value": "{{profileID_1}}"
								}
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "host",
			"value": "http://localhost:3000",
			"type": "string"
		}
	]
}